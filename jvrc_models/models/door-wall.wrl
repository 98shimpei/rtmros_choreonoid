# (defun make-prism2 (vec-list &key (start-vector 0) (sweep-length 100) (bottom-plane :yz)
#                              (sweep-direction 1) &allow-other-keys)
#   (let ((vlst
#          (mapcar #'(lambda (v)
#                      (case bottom-plane
#                        (:xy
#                         (float-vector (elt v 0) (elt v 1) start-vector))
#                        (:yz
#                         (float-vector start-vector (elt v 0) (elt v 1)))
#                        (:zx
#                         (float-vector (elt v 1) start-vector (elt v 0)))
#                        )) vec-list)))
#     (make-prism vlst
#                 (case bottom-plane
#                   (:xy (float-vector 0 0 (* sweep-direction sweep-length)))
#                   (:yz (float-vector (* sweep-direction sweep-length) 0 0))
#                   (:zx (float-vector 0 (* sweep-direction sweep-length) 0))))
#     ))
# (defun door-wall-list (&key (doorwidth 900) (doorheight 2100)
#                                  (wallwidth 3000) (wallheight 2600)
#                                  &allow-other-keys)
#   (let ((wallwidth/2 (/ wallwidth 2))
#         (doorwidth/2 (/ doorwidth 2)))
#     (list
#      (float-vector (- wallwidth/2) wallheight)
#      (float-vector wallwidth/2 wallheight)
#      (float-vector wallwidth/2 0)
#      (float-vector doorwidth/2 0)
#      (float-vector doorwidth/2 doorheight)
#      (float-vector (- doorwidth/2) doorheight)
#      (float-vector (- doorwidth/2) 0)
#      (float-vector (- wallwidth/2) 0))
#     ))
# (defun make-door (&rest args)
#   (apply #'make-prism2
#          (apply #'door-wall-list args)
#          args))
# (setq obj (make-door :sweep-length 50 :start-vector -25 :bottom-plane :yz))
# (setq fs (instance faceset :init :faces
#                    (flatten (mapcar #'(lambda (f) (geometry::face-to-triangle f))
#                                     (send obj :faces)))))
# (setq glv (gl::make-glvertices-from-faceset fs))
# (gl::write-wrl-from-glvertices "door-wall.wrl" glv :scale 0.001)
# ;; box door box sweep-length door-width door-height
# ;; translate 0 0 door-height/2
# ;; handle   box aaa handle-length bbb
# ;; translate aaa/2 (handle-length/2 - ccc) bbb/2
# 
Transform {
  children [
    Shape {
      appearance Appearance {
        material Material {
          diffuseColor     0.45 0.75 0.45
          ambientIntensity 0
        }
        texture ImageTexture {
          url [ "drcbox_surface.jpg" ]
          repeatS FALSE
          repeatT FALSE
        }
      }
      geometry IndexedFaceSet {
        ccw    TRUE
        convex TRUE
        solid  FALSE
        creaseAngle 0
        coord  Coordinate {
          point [
-0.02500000 -1.50000000 2.60000000,
-0.02500000 -0.45000000 0.00000000,
-0.02500000 -1.50000000 0.00000000,
-0.02500000 -1.50000000 2.60000000,
-0.02500000 -0.45000000 2.10000000,
-0.02500000 -0.45000000 0.00000000,
-0.02500000 -1.50000000 2.60000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 -0.45000000 2.10000000,
-0.02500000 1.50000000 2.60000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 -1.50000000 2.60000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 1.50000000 0.00000000,
-0.02500000 0.45000000 0.00000000,
-0.02500000 1.50000000 0.00000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 1.50000000 2.60000000,
0.02500000 -0.45000000 0.00000000,
0.02500000 -1.50000000 2.60000000,
0.02500000 -1.50000000 0.00000000,
0.02500000 -0.45000000 2.10000000,
0.02500000 -1.50000000 2.60000000,
0.02500000 -0.45000000 0.00000000,
0.02500000 1.50000000 2.60000000,
0.02500000 0.45000000 0.00000000,
0.02500000 1.50000000 0.00000000,
0.02500000 1.50000000 2.60000000,
0.02500000 0.45000000 2.10000000,
0.02500000 0.45000000 0.00000000,
0.02500000 1.50000000 2.60000000,
0.02500000 -0.45000000 2.10000000,
0.02500000 0.45000000 2.10000000,
0.02500000 -0.45000000 2.10000000,
0.02500000 1.50000000 2.60000000,
0.02500000 -1.50000000 2.60000000,
-0.02500000 -1.50000000 2.60000000,
0.02500000 -1.50000000 0.00000000,
0.02500000 -1.50000000 2.60000000,
0.02500000 -1.50000000 0.00000000,
-0.02500000 -1.50000000 2.60000000,
-0.02500000 -1.50000000 0.00000000,
-0.02500000 1.50000000 2.60000000,
0.02500000 -1.50000000 2.60000000,
0.02500000 1.50000000 2.60000000,
0.02500000 -1.50000000 2.60000000,
-0.02500000 1.50000000 2.60000000,
-0.02500000 -1.50000000 2.60000000,
-0.02500000 1.50000000 0.00000000,
0.02500000 1.50000000 2.60000000,
0.02500000 1.50000000 0.00000000,
0.02500000 1.50000000 2.60000000,
-0.02500000 1.50000000 0.00000000,
-0.02500000 1.50000000 2.60000000,
-0.02500000 0.45000000 0.00000000,
0.02500000 1.50000000 0.00000000,
0.02500000 0.45000000 0.00000000,
0.02500000 1.50000000 0.00000000,
-0.02500000 0.45000000 0.00000000,
-0.02500000 1.50000000 0.00000000,
-0.02500000 0.45000000 2.10000000,
0.02500000 0.45000000 0.00000000,
0.02500000 0.45000000 2.10000000,
0.02500000 0.45000000 0.00000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 0.45000000 0.00000000,
-0.02500000 -0.45000000 2.10000000,
0.02500000 0.45000000 2.10000000,
0.02500000 -0.45000000 2.10000000,
0.02500000 0.45000000 2.10000000,
-0.02500000 -0.45000000 2.10000000,
-0.02500000 0.45000000 2.10000000,
-0.02500000 -0.45000000 0.00000000,
0.02500000 -0.45000000 2.10000000,
0.02500000 -0.45000000 0.00000000,
0.02500000 -0.45000000 2.10000000,
-0.02500000 -0.45000000 0.00000000,
-0.02500000 -0.45000000 2.10000000,
-0.02500000 -1.50000000 0.00000000,
0.02500000 -0.45000000 0.00000000,
0.02500000 -1.50000000 0.00000000,
0.02500000 -0.45000000 0.00000000,
-0.02500000 -1.50000000 0.00000000,
-0.02500000 -0.45000000 0.00000000,
                ]
        }
        coordIndex [
0, 1, 2, -1,
3, 4, 5, -1,
6, 7, 8, -1,
9, 10, 11, -1,
12, 13, 14, -1,
15, 16, 17, -1,
18, 19, 20, -1,
21, 22, 23, -1,
24, 25, 26, -1,
27, 28, 29, -1,
30, 31, 32, -1,
33, 34, 35, -1,
36, 37, 38, -1,
39, 40, 41, -1,
42, 43, 44, -1,
45, 46, 47, -1,
48, 49, 50, -1,
51, 52, 53, -1,
54, 55, 56, -1,
57, 58, 59, -1,
60, 61, 62, -1,
63, 64, 65, -1,
66, 67, 68, -1,
69, 70, 71, -1,
72, 73, 74, -1,
75, 76, 77, -1,
78, 79, 80, -1,
81, 82, 83, -1,
        ]
        texCoord TextureCoordinate { point [
0.0000000000 1.0000000000,
0.3500000000 0.0000000000,
0.0000000000 0.0000000000,
0.0000000000 1.0000000000,
0.3500000000 0.8076923077,
0.3500000000 0.0000000000,
0.0000000000 1.0000000000,
0.6500000000 0.8076923077,
0.3500000000 0.8076923077,
1.0000000000 1.0000000000,
0.6500000000 0.8076923077,
0.0000000000 1.0000000000,
0.6500000000 0.8076923077,
1.0000000000 0.0000000000,
0.6500000000 0.0000000000,
1.0000000000 0.0000000000,
0.6500000000 0.8076923077,
1.0000000000 1.0000000000,
0.3500000000 0.0000000000,
0.0000000000 1.0000000000,
0.0000000000 0.0000000000,
0.3500000000 0.8076923077,
0.0000000000 1.0000000000,
0.3500000000 0.0000000000,
1.0000000000 1.0000000000,
0.6500000000 0.0000000000,
1.0000000000 0.0000000000,
1.0000000000 1.0000000000,
0.6500000000 0.8076923077,
0.6500000000 0.0000000000,
1.0000000000 1.0000000000,
0.3500000000 0.8076923077,
0.6500000000 0.8076923077,
0.3500000000 0.8076923077,
1.0000000000 1.0000000000,
0.0000000000 1.0000000000,
0.0000000000 1.0000000000,
0.0000000000 0.0000000000,
0.0000000000 1.0000000000,
0.0000000000 0.0000000000,
0.0000000000 1.0000000000,
0.0000000000 0.0000000000,
1.0000000000 1.0000000000,
0.0000000000 1.0000000000,
1.0000000000 1.0000000000,
0.0000000000 1.0000000000,
1.0000000000 1.0000000000,
0.0000000000 1.0000000000,
1.0000000000 0.0000000000,
1.0000000000 1.0000000000,
1.0000000000 0.0000000000,
1.0000000000 1.0000000000,
1.0000000000 0.0000000000,
1.0000000000 1.0000000000,
0.6500000000 0.0000000000,
1.0000000000 0.0000000000,
0.6500000000 0.0000000000,
1.0000000000 0.0000000000,
0.6500000000 0.0000000000,
1.0000000000 0.0000000000,
0.6500000000 0.8076923077,
0.6500000000 0.0000000000,
0.6500000000 0.8076923077,
0.6500000000 0.0000000000,
0.6500000000 0.8076923077,
0.6500000000 0.0000000000,
0.3500000000 0.8076923077,
0.6500000000 0.8076923077,
0.3500000000 0.8076923077,
0.6500000000 0.8076923077,
0.3500000000 0.8076923077,
0.6500000000 0.8076923077,
0.3500000000 0.0000000000,
0.3500000000 0.8076923077,
0.3500000000 0.0000000000,
0.3500000000 0.8076923077,
0.3500000000 0.0000000000,
0.3500000000 0.8076923077,
0.0000000000 0.0000000000,
0.3500000000 0.0000000000,
0.0000000000 0.0000000000,
0.3500000000 0.0000000000,
0.0000000000 0.0000000000,
0.3500000000 0.0000000000,
        ] }
      } #IndexedFaceSet
    } #Shape
  ] #children
} #Transform
